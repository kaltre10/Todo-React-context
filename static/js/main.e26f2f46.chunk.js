(this["webpackJsonpTodo-React-context"]=this["webpackJsonpTodo-React-context"]||[]).push([[0],{14:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),r=c(5),s=c.n(r),o=(c(8),c(3)),l=c(2),d=function(e,t){var c=Object(n.useState)(!0),a=Object(l.a)(c,2),r=a[0],s=a[1],d=Object(n.useState)(!1),i=Object(l.a)(d,2),j=i[0],u=i[1],b=Object(n.useState)(t),O=Object(l.a)(b,2),h=O[0],p=O[1];Object(n.useEffect)((function(){setTimeout((function(){try{var c=JSON.parse(localStorage.getItem(e))||t;p(Object(o.a)(c)),s(!1)}catch(j){u(j)}}),1e3)}),[]);return[h,function(t){try{localStorage.setItem(e,JSON.stringify(t)),p(Object(o.a)(t))}catch(j){u(j)}},r,j]},i=c(16),j=c(0),u=Object(n.createContext)(),b=function(e){var t,c=Object(n.useState)(""),a=Object(l.a)(c,2),r=a[0],s=a[1],b=Object(n.useState)(!1),O=Object(l.a)(b,2),h=O[0],p=O[1],x=d("tasksLocal",[]),m=Object(l.a)(x,4),f=m[0],k=m[1],v=m[2],g=m[3];t=""!==r?f.filter((function(e){return e.name.toLowerCase().includes(r.toLowerCase())})):f;var C=function(){return p(!h)};return Object(j.jsx)(u.Provider,{value:{search:r,setSearch:s,tasks:f,setTasks:k,loading:v,error:g,searchTask:t,tasksCompleted:function(){return f.filter((function(e){return!0===e.completed})).length},tasksDelete:function(e){return k(Object(o.a)(f.filter((function(t){return t.id!==e}))))},stateModal:h,openModal:C,addTaskContext:function(e){var t={id:Object(i.a)(),name:e,completed:!1};k([].concat(Object(o.a)(f),[t])),C()},addCompleted:function(e){var t=f.map((function(t){return t.id===e&&(t.completed?t.completed=!1:t.completed=!0),t}));k(t)}},children:e.children})},O=function(e){var t=e.setSearch;return Object(j.jsx)("form",{children:Object(j.jsx)("input",{type:"text",placeholder:"Search...",onChange:function(e){t(e.target.value)}})})},h=function(e){var t=e.task,c=e.tasksDelete,n=e.addCompleted;return Object(j.jsxs)("li",{children:[Object(j.jsx)("span",{class:"btn",onClick:function(){return n(t.id)},children:t.completed?"\u2714\ufe0f":"\u23f2\ufe0f"}),Object(j.jsx)("span",{className:t.completed?"completed":null,children:t.name}),Object(j.jsx)("span",{class:"btn",onClick:function(){return c(t.id)},children:" \u274c "})]})},p=function(){var e=Object(n.useContext)(u).openModal;return Object(j.jsx)("form",{children:Object(j.jsx)("button",{type:"button",onClick:e,className:"btn-add-task",children:"+"})})},x=function(e){var t=e.children;return Object(r.createPortal)(Object(j.jsx)("div",{className:"modal-container",children:t}),document.getElementById("modal"))},m=function(){var e=Object(n.useContext)(u),t=e.setSearch,c=e.tasks,a=e.loading,r=e.searchTask,s=e.tasksCompleted,o=e.tasksDelete,d=e.stateModal,i=e.openModal,b=e.addTaskContext,m=e.addCompleted,f=Object(n.useState)(""),k=Object(l.a)(f,2),v=k[0],g=k[1];return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("h1",{children:"Todo React"}),r.length>0&&!a?Object(j.jsxs)("p",{children:["Has completado ",s()," de ",r.length," tareas"]}):null,Object(j.jsx)(O,{setSearch:t}),a?Object(j.jsx)("p",{children:" loading... "}):Object(j.jsx)("ul",{children:c.length>0?r.map((function(e){return Object(j.jsx)(h,{task:e,tasksDelete:o,addCompleted:m},e.id)})):Object(j.jsx)("p",{children:" No hay Tareas Agregadas..!"})}),d?Object(j.jsx)(x,{children:Object(j.jsxs)("div",{className:"modal",children:[Object(j.jsx)("h3",{children:"Agregra una nueva Tarea"}),Object(j.jsxs)("form",{children:[Object(j.jsx)("div",{children:Object(j.jsx)("textarea",{onChange:function(e){return g(e.target.value)}})}),Object(j.jsx)("button",{type:"button",onClick:function(){return b(v)},children:"A\xf1adir"}),Object(j.jsx)("button",{type:"button",onClick:i,children:"Cancelar"})]})]})}):null,Object(j.jsx)(p,{})]})};var f=function(){return Object(j.jsx)(b,{children:Object(j.jsx)(m,{})})};s.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(f,{})}),document.getElementById("root"))},8:function(e,t,c){}},[[14,1,2]]]);
//# sourceMappingURL=main.e26f2f46.chunk.js.map